<app-nav [cartItemCount]="cartItemCount" ></app-nav>
<br><br><br><br><br>
<hr>

<!-- Single Product Start -->
<div class="container-fluid py-5 mt-5">
  <div class="container py-5">
    <div class="row g-4 mb-5">
      <div class="col-lg-8 col-xl-9">
        <div class="row g-4">
          <div class="col-lg-6">
            <div class="border rounded">
                <!-- Use product image -->
                <img [src]="productService.getImageSrc(product)" class="img-fluid rounded" [alt]="product.name">
            </div>
          </div>
          <div class="col-lg-6">
            <!-- Use product name -->
            <h4 class="fw-bold mb-3">{{ product.name }}</h4>
            <!-- Use product category -->
            <p class="mb-3">Category: {{ product.category.name }}</p>
            <!-- Use product price -->
            <h5 class="fw-bold mb-3">{{ product.price }} DH</h5>
            <!-- Product rating stars -->
            <div class="d-flex mb-4">
              <i class="fa fa-star text-secondary"></i>
              <i class="fa fa-star text-secondary"></i>
              <i class="fa fa-star text-secondary"></i>
              <i class="fa fa-star text-secondary"></i>
              <i class="fa fa-star"></i>
            </div>
            <!-- Product description -->
            <p class="mb-4">{{ product.description }}</p>
            <!-- Quantity input -->
            <div *ngIf="!authService.isAuthenticated || !authService.roles.includes('ADMIN')" class="input-group quantity mb-5" style="width: 100px;">
              <div class="input-group-btn">
                <button class="btn btn-sm btn-minus rounded-circle bg-light border" (click)="decrementQuantity(product)">
                  <i class="bi bi-dash"></i>
                </button>
              </div>
              <input type="text" class="form-control form-control-sm text-center border-0">
              <div class="input-group-btn">
                <button class="btn btn-sm btn-plus rounded-circle bg-light border" (click)="incrementQuantity(product)">
                  <i class="bi bi-plus"></i>
                </button>
              </div>
            </div>
            <!-- Add to cart button -->
            <button *ngIf="!authService.isAuthenticated || !authService.roles.includes('ADMIN')" (click)="addToCart(product)" href="#" class="btn border border-secondary rounded-pill px-3 text-primary addToCart-btn">
              <i class="bi bi-cart-plus me-2 text-primary"></i> Ajouter aux cart
            </button>
          </div>
        </div>
      </div>
      <!-- Sidebar -->
      <div class="col-lg-4 col-xl-3">
        <div class="row g-4 fruite">
          <div class="col-lg-12">
            <!-- Search input -->
            <div class="input-group w-100 mx-auto d-flex mb-4">
              <input type="search" class="form-control p-3" placeholder="Keywords" aria-describedby="search-icon-1">
              <span id="search-icon-1" class="input-group-text p-3"><i class="fa fa-search"></i></span>
            </div>
            <!-- Categories section -->
            <div class="mb-4">
              <h4>Categories</h4>
                <app-category></app-category>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Single Product End -->

